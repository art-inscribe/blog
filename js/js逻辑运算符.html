<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>js逻辑运算符 | Y铭的博客</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="个人博客">
    
    <link rel="preload" href="/blog/assets/css/0.styles.d3d2db5e.css" as="style"><link rel="preload" href="/blog/assets/js/app.1f6ff52c.js" as="script"><link rel="preload" href="/blog/assets/js/2.1a90d8d2.js" as="script"><link rel="preload" href="/blog/assets/js/12.9d397fda.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.ac1d5c45.js"><link rel="prefetch" href="/blog/assets/js/11.b69cfc85.js"><link rel="prefetch" href="/blog/assets/js/13.e0a39bae.js"><link rel="prefetch" href="/blog/assets/js/14.6fa77682.js"><link rel="prefetch" href="/blog/assets/js/15.a3c75717.js"><link rel="prefetch" href="/blog/assets/js/3.dba40c6f.js"><link rel="prefetch" href="/blog/assets/js/4.d7cd0258.js"><link rel="prefetch" href="/blog/assets/js/5.c1c2b1c5.js"><link rel="prefetch" href="/blog/assets/js/6.a644d090.js"><link rel="prefetch" href="/blog/assets/js/7.e1840d54.js"><link rel="prefetch" href="/blog/assets/js/8.9ac3f109.js"><link rel="prefetch" href="/blog/assets/js/9.e2ea4f18.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.d3d2db5e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><img src="/blog/assets/img/logo.jpg" alt="Y铭的博客" class="logo"> <span class="site-name can-hide">Y铭的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/js/" class="nav-link router-link-active">
  js
</a></div><div class="nav-item"><a href="/blog/webpack/" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="https://www.baidu.com.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  css
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/js/" class="nav-link router-link-active">
  js
</a></div><div class="nav-item"><a href="/blog/webpack/" class="nav-link">
  webpack
</a></div><div class="nav-item"><a href="https://www.baidu.com.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  css
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/blog/js/" aria-current="page" class="sidebar-link">js总结</a></li><li><a href="/blog/js/js常用的数组方法.html" class="sidebar-link">JS中的Array方法</a></li><li><a href="/blog/js/js逻辑运算符.html" class="active sidebar-link">js逻辑运算符</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/js/js逻辑运算符.html#" class="sidebar-link">||</a></li><li class="sidebar-sub-header"><a href="/blog/js/js逻辑运算符.html#-2" class="sidebar-link">&amp;&amp;</a></li><li class="sidebar-sub-header"><a href="/blog/js/js逻辑运算符.html#零合并操作符" class="sidebar-link">零合并操作符 ??</a></li><li class="sidebar-sub-header"><a href="/blog/js/js逻辑运算符.html#可选链操作符" class="sidebar-link">可选链操作符 ?.</a></li></ul></li><li><a href="/blog/js/AST抽象语法树.html" class="sidebar-link">AST 抽象语法树</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="js逻辑运算符"><a href="#js逻辑运算符" class="header-anchor">#</a> js逻辑运算符</h1> <h2 id=""><a href="#" class="header-anchor">#</a> ||</h2> <p>运算方法：</p> <div class="language- extra-class"><pre><code> 只要“||”前面为false,不管“||”后面是true还是false，都返回“||”后面的值。

 只要“||”前面为true,不管“||”后面是true还是false，都返回“||”前面的值。
</code></pre></div><p>总结：真前假后</p> <h2 id="-2"><a href="#-2" class="header-anchor">#</a> &amp;&amp;</h2> <p>运算方法：</p> <div class="language- extra-class"><pre><code> 只要“&amp;&amp;”前面是false，无论“&amp;&amp;”后面是true还是false，结果都将返“&amp;&amp;”前面的值;

 只要“&amp;&amp;”前面是true，无论“&amp;&amp;”后面是true还是false，结果都将返“&amp;&amp;”后面的值;
</code></pre></div><h2 id="零合并操作符"><a href="#零合并操作符" class="header-anchor">#</a> 零合并操作符 ??</h2> <ul><li>零合并操作符 ?? 是一个逻辑操作符，当左侧的操作数为 null 或者 undefined 时，返回右侧操作数，否则返回左侧操作数。</li> <li>空值合并操作符一般用来为常量提供默认值，保证常量不为 null 或者 undefined，以前一般使用 || 来做这件事 variable = variable || 'bar'。然而，由于 || 是一个布尔逻辑运算符，左侧的操作数会被强制转换成布尔值用于求值。任何假值（0， ''， NaN， null， undefined）都不会被返回。这导致如果你使用 0、''、NaN 作为有效值，就会出现不可预料的后果。
正因为 || 存在这样的问题，而 ?? 的出现就是解决了这些问题，?? 只会在左侧为 undefined、null 时才返回后者，?? 可以理解为是 || 的完善解决方案。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">undefined</span> <span class="token operator">||</span> <span class="token string">'default'</span> <span class="token comment">// 'default'</span>
<span class="token keyword">null</span> <span class="token operator">||</span> <span class="token string">'default'</span>      <span class="token comment">// 'default'</span>
<span class="token boolean">false</span> <span class="token operator">||</span> <span class="token string">'default'</span>     <span class="token comment">// 'default'</span>
<span class="token number">0</span> <span class="token operator">||</span> <span class="token string">'default'</span>         <span class="token comment">// 'default'</span>

<span class="token keyword">undefined</span> <span class="token operator">??</span> <span class="token string">'default'</span> <span class="token comment">// 'default'</span>
<span class="token keyword">null</span> <span class="token operator">??</span> <span class="token string">'default'</span>      <span class="token comment">// 'default'</span>
<span class="token boolean">false</span> <span class="token operator">??</span> <span class="token string">'default'</span>     <span class="token comment">// 'false'</span>
<span class="token number">0</span> <span class="token operator">??</span> <span class="token string">'default'</span>         <span class="token comment">// 0</span>
</code></pre></div><ul><li>另外在赋值的时候，可以运用赋值运算符的简写 ??=</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token punctuation">{</span>b<span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">,</span> c<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">}</span>
a<span class="token punctuation">.</span>b <span class="token operator">??=</span> <span class="token number">20</span>
a<span class="token punctuation">.</span>c <span class="token operator">??=</span> <span class="token number">20</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>     <span class="token comment">// 输出 { b: 20, c: 10 }</span>
</code></pre></div><h2 id="可选链操作符"><a href="#可选链操作符" class="header-anchor">#</a> 可选链操作符 ?.</h2> <ul><li>可选链操作符 ?. 允许读取位于连接对象链深处的属性的值，而不必验证链中的每个引用是否有效。?. 操作符的功能类似于 . 链式操作符，不同之处在于，在引用为 null 或者 undefined 的情况下不会引起错误，该表达式短路返回值是 undefined。
当尝试访问可能不存在的对象属性时，可选链操作符将会使表达式更短、更简明。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>
  a<span class="token operator">:</span> <span class="token string">'foo'</span><span class="token punctuation">,</span>
  b<span class="token operator">:</span> <span class="token punctuation">{</span>
    c<span class="token operator">:</span> <span class="token string">'bar'</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>b<span class="token operator">?.</span>c<span class="token punctuation">)</span>      <span class="token comment">// 输出 bar</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>d<span class="token operator">?.</span>c<span class="token punctuation">)</span>      <span class="token comment">// 输出 undefined</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>func<span class="token operator">?.</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// 不报错，输出 undefined</span>
</code></pre></div><ul><li>以前可能会通过 obj &amp;&amp; obj.a &amp;&amp; obj.a.b 来获取一个深度嵌套的子属性，现在可以直接 obj?.a?.b 即可。
可选链除了可以用在获取对象的属性，还可以用在数组的索引 arr?.[index]，也可以用在函数的判断 func?.(args)，当尝试调用一个可能不存在的方法时也可以使用可选链。
调用一个对象上可能不存在的方法时（版本原因或者当前用户的设备不支持该功能的场景下），使用可选链可以使得表达式在函数不存在时返回 undefined 而不是直接抛异常。</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>逻辑运算符和赋值表达式
逻辑运算符和赋值表达式，新特性结合了逻辑运算符（<span class="token operator">&amp;&amp;</span>，<span class="token operator">||</span>，<span class="token operator">??</span>）和赋值表达式而JavaScript已存在的 复合赋值运算符有：
操作运算符：<span class="token operator">+=</span>   <span class="token operator">-=</span>   <span class="token operator">*=</span>   <span class="token operator">/=</span>   <span class="token operator">%=</span>   <span class="token operator">**=</span>
位操作运算符：<span class="token operator">&amp;=</span>   <span class="token operator">^=</span>   <span class="token operator">|=</span>
按位运算符：<span class="token operator">&lt;&lt;=</span>   <span class="token operator">&gt;&gt;=</span>   <span class="token operator">&gt;&gt;&gt;=</span>
现有的的运算符，其工作方式都可以如此来理解

表达式：a op<span class="token operator">=</span> b

等同于：a <span class="token operator">=</span> a op b

逻辑运算符和其他的复合赋值运算符工作方式不同

表达式：a op<span class="token operator">=</span> b

等同于：a <span class="token operator">=</span> a <span class="token function">op</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> b<span class="token punctuation">)</span>

a <span class="token operator">||=</span> b
<span class="token comment">//等价于</span>
a <span class="token operator">=</span> a <span class="token operator">||</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> b<span class="token punctuation">)</span>

a <span class="token operator">&amp;&amp;=</span> b
<span class="token comment">//等价于</span>
a <span class="token operator">=</span> a <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> b<span class="token punctuation">)</span>

a <span class="token operator">??=</span> b
<span class="token comment">//等价于</span>
a <span class="token operator">=</span> a <span class="token operator">??</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> b<span class="token punctuation">)</span>
为什么不再是跟以前的运算公式a <span class="token operator">=</span> a op b一样呢，而是采用a <span class="token operator">=</span> a <span class="token function">op</span> <span class="token punctuation">(</span>a <span class="token operator">=</span> b<span class="token punctuation">)</span>。因为后者当且仅当a的值为<span class="token boolean">false</span>的时候才计算赋值，只有在必要的时候才执行分配，而前者的表达式总是执行赋值操作

<span class="token operator">??=</span>可用来补充<span class="token operator">/</span>初始化缺失的属性
<span class="token keyword">const</span> pages <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
   title<span class="token operator">:</span><span class="token string">'主会场'</span><span class="token punctuation">,</span>
    path<span class="token operator">:</span><span class="token string">'/'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token operator">:</span><span class="token string">'/other'</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">]</span>
  
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> page <span class="token keyword">of</span> pages<span class="token punctuation">)</span><span class="token punctuation">{</span>
 page<span class="token punctuation">.</span>title <span class="token operator">??=</span> <span class="token string">'默认标题'</span>
<span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">table</span><span class="token punctuation">(</span>pages<span class="token punctuation">)</span>
<span class="token comment">//(index)  title         path</span>
<span class="token comment">//0        &quot;主会场&quot;      &quot;/&quot;</span>
<span class="token comment">//1        &quot;默认标题&quot;    &quot;/other&quot;</span>
小结：

<span class="token operator">&amp;&amp;=</span>：当<span class="token constant">LHS</span>值存在时，将<span class="token constant">RHS</span>变量赋值给<span class="token constant">LHS</span>
<span class="token operator">||=</span>：当<span class="token constant">LHS</span>值不存在时，将<span class="token constant">RHS</span>变量赋值给<span class="token constant">LHS</span>
<span class="token operator">??=</span> ：当<span class="token constant">LHS</span>值为<span class="token keyword">null</span>或者<span class="token keyword">undefined</span>时，将<span class="token constant">RHS</span>变量赋值给<span class="token constant">LHS</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/js/js常用的数组方法.html" class="prev">
        JS中的Array方法
      </a></span> <span class="next"><a href="/blog/js/AST抽象语法树.html">
        AST 抽象语法树
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/blog/assets/js/app.1f6ff52c.js" defer></script><script src="/blog/assets/js/2.1a90d8d2.js" defer></script><script src="/blog/assets/js/12.9d397fda.js" defer></script>
  </body>
</html>
